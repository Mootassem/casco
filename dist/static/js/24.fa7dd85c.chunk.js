(this["webpackJsonpapp-frontend"]=this["webpackJsonpapp-frontend"]||[]).push([[24],{1077:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n(4),r=n(516),o=n(517),i=n(35),l=n(85),s=function(){var e=Object(i.d)();return Object(a.useEffect)((function(){e(l.a.doFetch())}),[]),null},u=n(668),d=n(651),f=n(144),b=n(738),j=n(76),p=n(23),m=n(169),v=n(6),O={selectLoading:Object(v.a)([function(e){return e.tenant.destroy}],(function(e){return Boolean(e.loading)}))},x=n(81),h=n(230),g=n(128),y=n(33),C=n(56),w=n(120),k={selectPermissionToEdit:Object(v.a)([y.a.selectCurrentUser],(function(e){return function(t){return new C.a(t,e).match(w.a.values.tenantEdit)}})),selectPermissionToDestroy:Object(v.a)([y.a.selectCurrentUser],(function(e){return function(t){return new C.a(t,e).match(w.a.values.tenantDestroy)}})),selectInvitationToken:Object(v.a)([y.a.selectCurrentUser],(function(e){return function(t){if(!e||!e.tenants)return!1;var n=e.tenants.find((function(e){return e.tenant.id===t.id&&"invited"===e.status}));return n?n.invitationToken:null}}))},P=n(544),E=n(554),T=n(148),N=n(45),S=n(29),M=n(5),_=function(e){var t=Object(i.d)(),n=Object(i.e)(g.a.selectLoading),a=Object(i.e)(O.selectLoading),r=Object(i.e)(h.a.selectLoading),o=n||a||r,s=Object(i.e)(g.a.selectRows),v=Object(i.e)(g.a.selectPagination),C=Object(i.e)(k.selectInvitationToken),w=Object(i.e)(k.selectPermissionToEdit),_=Object(i.e)(k.selectPermissionToDestroy),D=Object(i.e)(y.a.selectCurrentTenant),V=[{title:Object(c.c)("tenant.fields.name"),sorter:!0,dataIndex:"name",render:function(e,t){return Object(M.jsxs)(M.Fragment,{children:[t.name,Boolean(C(t))&&Object(M.jsx)(u.a,{color:"gold",style:{marginLeft:"8px"},children:Object(c.c)("tenant.invitation.invited")})]})}},S.a.isEnabled&&{title:Object(c.c)("tenant.fields.url"),sorter:!0,dataIndex:"url",render:function(e,t){return"".concat(t.url,".").concat(N.a.frontendUrl.host)}},N.a.isPlanEnabled&&{title:Object(c.c)("tenant.fields.plan"),sorter:!0,dataIndex:"plan",render:function(e,t){return Object(M.jsx)(u.a,{color:e===T.a.values.free?void 0:"gold",children:Object(c.c)("plan.".concat(e,".label"))})}},{title:"",dataIndex:"",width:"160px",render:function(e,n){return C(n)?Object(M.jsxs)("div",{className:"table-actions",children:[Object(M.jsx)(d.a,{title:Object(c.c)("common.areYouSure"),onConfirm:function(){return e=C(n),void t(x.a.doAccept(e));var e},okText:Object(c.c)("common.yes"),cancelText:Object(c.c)("common.no"),children:Object(M.jsx)(f.a,{type:"primary",children:Object(c.c)("tenant.invitation.accept")})}),Object(M.jsx)(d.a,{title:Object(c.c)("common.areYouSure"),onConfirm:function(){return e=C(n),void t(x.a.doDecline(e));var e},okText:Object(c.c)("common.yes"),cancelText:Object(c.c)("common.no"),children:Object(M.jsx)(f.a,{type:"primary",danger:!0,children:Object(c.c)("tenant.invitation.decline")})})]}):Object(M.jsxs)("div",{className:"table-actions",children:[D.id!==n.id&&Object(M.jsx)(f.a,{type:"primary",onClick:function(){return e=n,void t(p.a.doSelectTenant(e));var e},children:Object(c.c)("tenant.select")}),w(n)&&Object(M.jsx)(j.a,{to:"/tenant/".concat(n.id,"/edit"),children:Object(c.c)("common.edit")}),_(n)&&Object(M.jsx)(d.a,{title:Object(c.c)("common.areYouSure"),onConfirm:function(){return e=n.id,void t(m.a.doDestroy(e));var e},okText:Object(c.c)("common.yes"),cancelText:Object(c.c)("common.no"),children:Object(M.jsx)(P.a,{children:Object(c.c)("common.destroy")})})]})}}].filter(Boolean);return Object(M.jsx)(E.a,{children:Object(M.jsx)(b.a,{rowKey:"id",loading:o,columns:V,dataSource:s,pagination:v,onChange:function(e,n,a){t(l.a.doChangePaginationAndSort(e,a))},scroll:{x:!0}})})},D=n(683),V=n(533),q=function(e){return Object(M.jsx)(V.a,{children:Object(M.jsx)(j.a,{to:"/tenant/new",children:Object(M.jsx)(f.a,{type:"primary",icon:Object(M.jsx)(D.a,{}),children:Object(c.c)("common.new")})})})};t.default=function(e){return Object(M.jsx)(M.Fragment,{children:Object(M.jsxs)(r.a,{style:{marginTop:0},children:[Object(M.jsx)(o.a,{children:Object(c.c)("tenant.list.title")}),Object(M.jsx)(q,{}),Object(M.jsx)(s,{}),Object(M.jsx)(_,{})]})})}},516:function(e,t,n){"use strict";var a,c=n(117),r=n(118).a.div(a||(a=Object(c.a)(["\n  margin: 0px;\n  margin-top: 16px;\n  padding: 24px;\n  border-radius: 5px;\n  background: #fff;\n  border: 1px solid #e9e9e9;\n  overflow-y: hidden;\n"])));t.a=r},517:function(e,t,n){"use strict";var a,c=n(117),r=n(118).a.h1(a||(a=Object(c.a)(["\n  margin-bottom: 36px;\n"])));t.a=r},529:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(31),c=n.n(a),r=n(0);function o(){var e=r.useReducer((function(e){return e+1}),0);return c()(e,2)[1]}},532:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n(17),c=n(0);function r(e){var t=c.useRef();t.current=e;var n=c.useCallback((function(){for(var e,n=arguments.length,a=new Array(n),c=0;c<n;c++)a[c]=arguments[c];return null===(e=t.current)||void 0===e?void 0:e.call.apply(e,[t].concat(a))}),[]);return n}var o=n(134),i=n(101);function l(e){return void 0!==e}function s(e,t){var n=t||{},c=n.defaultValue,s=n.value,u=n.onChange,d=n.postState,f=Object(i.a)((function(){return l(s)?s:l(c)?"function"===typeof c?c():c:"function"===typeof e?e():e})),b=Object(a.a)(f,2),j=b[0],p=b[1],m=void 0!==s?s:j,v=d?d(m):m,O=r(u),x=Object(i.a)([m]),h=Object(a.a)(x,2),g=h[0],y=h[1];return Object(o.b)((function(){var e=g[0];j!==e&&O(j,e)}),[g]),Object(o.b)((function(){l(s)||p(s)}),[s]),[v,r((function(e,t){p(e,t),y([m],t)}))]}},533:function(e,t,n){"use strict";var a,c=n(117),r=n(118).a.div(a||(a=Object(c.a)(["\n  margin-bottom: 16px;\n\n  .ant-btn {\n    margin-right: 8px;\n    margin-bottom: 8px;\n  }\n"])));t.a=r},544:function(e,t,n){"use strict";var a,c=n(117),r=n(118).a.button(a||(a=Object(c.a)(["\n  background-color: transparent;\n  border: none;\n  cursor: pointer;\n  color: var(--link-color);\n  text-decoration: none;\n  display: inline;\n  margin: 0;\n  padding: 0;\n\n  &:hover {\n    text-decoration: none;\n  }\n  &:focus {\n    text-decoration: none;\n  }\n"])));t.a=r},554:function(e,t,n){"use strict";var a,c=n(117),r=n(118).a.div(a||(a=Object(c.a)(["\n  .ant-table th {\n    white-space: nowrap;\n  }\n\n  .ant-table td {\n    white-space: nowrap;\n  }\n\n  .ant-table .table-actions {\n    text-align: right;\n  }\n\n  .ant-table .table-actions a,\n  .ant-table .table-actions button {\n    margin-left: 8px;\n  }\n"])));t.a=r},569:function(e,t,n){"use strict";var a=n(43),c=n(28);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(48)),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==c(e)&&"function"!==typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(n(0)),i=a(n(570)),l=a(n(55));function s(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}var u=function(e,t){return o.createElement(l.default,(0,r.default)((0,r.default)({},e),{},{ref:t,icon:i.default}))};u.displayName="SearchOutlined";var d=o.forwardRef(u);t.default=d},570:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M909.6 854.5L649.9 594.8C690.2 542.7 712 479 712 412c0-80.2-31.3-155.4-87.9-212.1-56.6-56.7-132-87.9-212.1-87.9s-155.5 31.3-212.1 87.9C143.2 256.5 112 331.8 112 412c0 80.1 31.3 155.5 87.9 212.1C256.5 680.8 331.8 712 412 712c67 0 130.6-21.8 182.7-62l259.7 259.6a8.2 8.2 0 0011.6 0l43.6-43.5a8.2 8.2 0 000-11.6zM570.4 570.4C528 612.7 471.8 636 412 636s-116-23.3-158.4-65.6C211.3 528 188 471.8 188 412s23.3-116.1 65.6-158.4C296 211.3 352.2 188 412 188s116.1 23.2 158.4 65.6S636 352.2 636 412s-23.3 116.1-65.6 158.4z"}}]},name:"search",theme:"outlined"}},621:function(e,t,n){var a=n(227);e.exports=function(e,t){return a(e,t)}},622:function(e,t,n){"use strict";var a;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c=(a=n(569))&&a.__esModule?a:{default:a};t.default=c,e.exports=c},651:function(e,t,n){"use strict";var a=n(9),c=n.n(a),r=n(31),o=n.n(r),i=n(0),l=n(12),s=n.n(l),u=n(208),d=n.n(u),f=n(73),b=n(146),j=n(144),p=n(204),m=n(143),v=n(130),O=n(98),x=n(179),h=n(39),g=void 0,y=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var c=0;for(a=Object.getOwnPropertySymbols(e);c<a.length;c++)t.indexOf(a[c])<0&&Object.prototype.propertyIsEnumerable.call(e,a[c])&&(n[a[c]]=e[a[c]])}return n},C=i.forwardRef((function(e,t){var n=i.useState(e.visible),a=o()(n,2),r=a[0],l=a[1];i.useEffect((function(){"visible"in e&&l(e.visible)}),[e.visible]),i.useEffect((function(){"defaultVisible"in e&&l(e.defaultVisible)}),[e.defaultVisible]);var u=function(t,n){"visible"in e||l(t),e.onVisibleChange&&e.onVisibleChange(t,n)},d=function(t){u(!1,t),e.onConfirm&&e.onConfirm.call(g,t)},C=function(t){u(!1,t),e.onCancel&&e.onCancel.call(g,t)},w=i.useContext(O.b).getPrefixCls,k=e.prefixCls,P=e.placement,E=e.children,T=e.overlayClassName,N=y(e,["prefixCls","placement","children","overlayClassName"]),S=w("popover",k),M=w("popconfirm",k),_=s()(M,T),D=i.createElement(m.a,{componentName:"Popconfirm",defaultLocale:v.a.Popconfirm},(function(t){return function(t,n){var a=e.okButtonProps,r=e.cancelButtonProps,o=e.title,l=e.cancelText,s=e.okText,u=e.okType,f=e.icon;return i.createElement("div",{className:"".concat(t,"-inner-content")},i.createElement("div",{className:"".concat(t,"-message")},f,i.createElement("div",{className:"".concat(t,"-message-title")},Object(x.a)(o))),i.createElement("div",{className:"".concat(t,"-buttons")},i.createElement(j.a,c()({onClick:C,size:"small"},r),l||n.cancelText),i.createElement(j.a,c()({onClick:d},Object(p.a)(u),{size:"small"},a),s||n.okText)))}(S,t)}));return i.createElement(b.a,c()({},N,{prefixCls:S,placement:P,onVisibleChange:function(t){e.disabled||u(t)},visible:r,overlay:D,overlayClassName:_,ref:t}),Object(h.a)(E,{onKeyDown:function(e){var t,n;i.isValidElement(E)&&(null===(n=null===E||void 0===E?void 0:(t=E.props).onKeyDown)||void 0===n||n.call(t,e)),function(e){e.keyCode===f.a.ESC&&r&&u(!1,e)}(e)}}))}));C.defaultProps={transitionName:"zoom-big",placement:"top",trigger:"click",okType:"primary",icon:i.createElement(d.a,null),disabled:!1},t.a=C},683:function(e,t,n){"use strict";var a=n(1),c=n(0),r={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M482 152h60q8 0 8 8v704q0 8-8 8h-60q-8 0-8-8V160q0-8 8-8z"}},{tag:"path",attrs:{d:"M176 474h672q8 0 8 8v60q0 8-8 8H176q-8 0-8-8v-60q0-8 8-8z"}}]},name:"plus",theme:"outlined"},o=n(40),i=function(e,t){return c.createElement(o.a,Object(a.a)(Object(a.a)({},e),{},{ref:t,icon:r}))};i.displayName="PlusOutlined";t.a=c.forwardRef(i)}}]);